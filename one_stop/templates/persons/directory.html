{% extends 'base.html' %}
{% block content %}
<div class="col-12">

    <div class="container-fluid">
        <div class="row m-5">
            <div class="col bg-light p-4 rounded">
                <div class="bg-primary text-white rounded border p-2 mb-1">
                    <h1><strong>Search Users</strong></h1>
                </div>
                <table id="directory_table" class="table table-striped table-bordered nowrap" style="width:100%"
                    data-server-side="true" data-ajax="/api/persons/?format=datatables">
                    <thead>
                        <tr>
                            <th scope="col" data-visible="false" data-data="uuid">
                                HPU ID
                            </th>
                            <th scope="col" data-visible="false" data-data="sys_ID">
                                HPU ID
                            </th>
                            <th scope="col" data-data="uuid">
                                HPU ID
                            </th>
                            <th scope="col" data-data="user.email" data-name="user.email">
                                HPU Email
                            </th>
                            <th scope="col" data-data="user.first_name" data-name="user.first_name">
                                First Name
                            </th>
                            <th scope="col" data-data="mname">
                                Middle Name
                            </th>
                            <th scope="col" data-data="user.last_name" data-name="user.last_name">
                                Last Name
                            </th>
                            <th scope="col" data-data="classification">
                                Classification
                            </th>
                            <th scope="col" data-data="campusroom">
                                Campus Room
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
{% block js %}
<script>
    $(document).ready(function () {
        $('#directory_table').DataTable({
            "responsive": true,
            "columnDefs": [{
                "targets": 2,
                "data": null,
                "render": function (data, type, row, meta) {
                    return '<a href="../user_detail/' + data["sys_ID"] + '">' + data[
                        "uuid"] + " - Profile" + '</a>';
                }
            }]
        });
    });
</script>
{% endblock js %}